<VirtualHost *:80>
    ServerName apimutual1.amfestram.org.ar
    Redirect permanent / https://apimutual1.amfestram.org.ar/
</VirtualHost>

<VirtualHost *:443>
    SSLEngine on
    SSLCertificateFile /etc/apache2/ssl/cert.pem
    SSLCertificateKeyFile /etc/apache2/ssl/privkey.pem
    SSLCertificateChainFile /etc/apache2/ssl/chain.pem
    ServerAdmin informatica.festram@gmail.com
    ServerName apimutual1.amfestram.org.ar
    ServerAlias www.apimutual1.amfestram.org.ar
    
    ErrorLog /var/log/apimutual-error.log
    LogLevel warn    
    CustomLog /var/log/api-mutual-access.log combined

    Alias /static/admin/ /var/www/api-mutual/apimutual/site_static/admin/
    Alias /static/assets/ /var/www/api-mutual/apimutual/static/assets/
    Alias /static/resources/ /var/www/api-mutual/apimutual/static/resources/
    Alias /static/ /var/www/api-mutual/apimutual/site_static/

    WSGIPassAuthorization on
    WSGIDaemonProcess api-mutual python-home=/usr/share/.virtualenvs/api-mutual python-path=/var/www/api-mutual
    WSGIProcessGroup api-mutual
    WSGIScriptAlias / /var/www/api-mutual/apimutual/wsgi.py process-group=api-mutual

    <Directory /var/www/api-mutual/apimutual/static>
        Require all granted
        Allow from all
    </Directory>

    <Directory /var/www/api-mutual/apimutual/site_static>
        Require all granted
        Allow from all
    </Directory>

    <Directory /var/www/api-mutual/apimutual>
        <Files wsgi.py>
            Require all granted
        </Files>
        Allow from all
    </Directory>
</VirtualHost>
